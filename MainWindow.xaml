<Window x:Class="CyberSecurityChatBotAI.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Cybersecurity Awareness Chatbot" Height="700" Width="1144"
        WindowStartupLocation="CenterScreen"
        Background="#1a1a1a">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="80"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="100"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <Border Grid.Row="0" Background="#2d2d30" BorderBrush="#404040" BorderThickness="0,0,0,1">
            <StackPanel Orientation="Horizontal" Margin="20,10">
                <TextBlock Text="🛡️" FontSize="32" VerticalAlignment="Center" Margin="0,0,15,0"/>
                <StackPanel VerticalAlignment="Center">
                    <TextBlock x:Name="WelcomeText" Text="Cybersecurity Awareness Chatbot" 
                               FontSize="18" FontWeight="Bold" Foreground="#00d4ff"/>
                    <TextBlock x:Name="UserNameText" Text="Welcome, User!" 
                               FontSize="12" Foreground="#cccccc"/>
                </StackPanel>
            </StackPanel>
        </Border>

        <!-- Main Content Area -->
        <Grid Grid.Row="1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="2*"/>
                <ColumnDefinition Width="5"/>
                <ColumnDefinition Width="1*"/>
            </Grid.ColumnDefinitions>

            <!-- Chat Area -->
            <Grid Grid.Column="0">
                <Grid.RowDefinitions>
                    <RowDefinition Height="40"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <TextBlock Grid.Row="0" Text="Chat Conversation" FontSize="14" FontWeight="Bold" 
                           Foreground="#00d4ff" Margin="10,10,10,5"/>

                <ScrollViewer Grid.Row="1" x:Name="ChatScrollViewer" 
                              VerticalScrollBarVisibility="Auto" Margin="10,0,10,10"
                              Background="#252526">
                    <TextBlock x:Name="ChatDisplay" TextWrapping="Wrap" 
                               Padding="15" FontFamily="Consolas" FontSize="12"
                               Foreground="#ffffff" Background="Transparent"/>
                </ScrollViewer>
            </Grid>

            <!-- Splitter -->
            <GridSplitter Grid.Column="1" Background="#404040" HorizontalAlignment="Stretch"/>

            <!-- Task Management Panel -->
            <Grid Grid.Column="2" Background="#2d2d30">
                <Grid.RowDefinitions>
                    <RowDefinition Height="40"/>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="150"/>
                </Grid.RowDefinitions>

                <TextBlock Grid.Row="0" Text="Cybersecurity Tasks" FontSize="14" FontWeight="Bold" 
                           Foreground="#00d4ff" Margin="10,10,10,5"/>

                <!-- Task List -->
                <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto" Margin="10,0,10,10">
                    <ListBox x:Name="TaskListBox" Background="#1e1e1e" BorderThickness="0"
                             Foreground="#ffffff" SelectionChanged="TaskListBox_SelectionChanged">
                        <ListBox.ItemTemplate>
                            <DataTemplate>
                                <Border Background="#3c3c3c" Margin="2" Padding="8" CornerRadius="3">
                                    <StackPanel>
                                        <TextBlock Text="{Binding Title}" FontWeight="Bold" FontSize="11"
                                                   Foreground="#00d4ff" TextWrapping="Wrap"/>
                                        <TextBlock Text="{Binding Description}" FontSize="10" 
                                                   Foreground="#cccccc" TextWrapping="Wrap" Margin="0,2,0,0"/>
                                        <TextBlock Text="{Binding ReminderDate, StringFormat='Due: {0:MM/dd/yyyy}'}" 
                                                   FontSize="9" Foreground="#ffcc00" Margin="0,2,0,0"/>
                                    </StackPanel>
                                </Border>
                            </DataTemplate>
                        </ListBox.ItemTemplate>
                    </ListBox>
                </ScrollViewer>

                <!-- Add Task Panel -->
                <Border Grid.Row="2" Background="#252526" BorderBrush="#404040" BorderThickness="0,1,0,0">
                    <StackPanel Margin="10">
                        <TextBlock Text="Add New Task" FontSize="12" FontWeight="Bold" 
                                   Foreground="#00d4ff" Margin="0,0,0,5"/>

                        <TextBox x:Name="TaskTitleBox" Background="#3c3c3c" Foreground="#ffffff" 
                                 BorderBrush="#404040" Padding="5" FontSize="10"
                                 Text="Task title..." GotFocus="TaskTitleBox_GotFocus"/>

                        <TextBox x:Name="TaskDescriptionBox" Background="#3c3c3c" Foreground="#ffffff" 
                                 BorderBrush="#404040" Padding="5" FontSize="10" Margin="0,3,0,0"
                                 Text="Task description..." GotFocus="TaskDescriptionBox_GotFocus"/>

                        <DatePicker x:Name="ReminderDatePicker" Background="#3c3c3c" Foreground="#ffffff"
                                    BorderBrush="#404040" FontSize="10" Margin="0,3,0,0"/>

                        <Button x:Name="AddTaskButton" Content="Add Task" Background="#007acc" 
                                Foreground="#ffffff" BorderThickness="0" Padding="5" Margin="0,5,0,0"
                                FontSize="10" Click="AddTaskButton_Click"/>
                    </StackPanel>
                </Border>
            </Grid>
            <!-- Add this inside your main Grid, e.g. as a new Row or TabItem IM HERE -->
            <Grid x:Name="QuizPanel" Visibility="Collapsed" Margin="20">
                <StackPanel>
                    <TextBlock x:Name="QuizQuestionText" FontSize="16" FontWeight="Bold" Margin="0,0,0,10"/>
                    <ListBox x:Name="QuizOptionsList" SelectionMode="Single" Margin="0,0,0,10"/>
                    <Button x:Name="QuizSubmitButton" Content="Submit Answer" Click="QuizSubmitButton_Click" Margin="0,0,0,10"/>
                    <TextBlock x:Name="QuizFeedbackText" FontSize="14" Margin="0,0,0,10"/>
                    <TextBlock x:Name="QuizScoreText" FontSize="14" Margin="0,0,0,10"/>
                    <Button x:Name="QuizNextButton" Content="Next Question" Click="QuizNextButton_Click" Visibility="Collapsed"/>
                    <Button x:Name="QuizStartButton" Content="Start Quiz" Click="QuizStartButton_Click" />
                </StackPanel>
            </Grid>

        </Grid>

        <!-- Input Area -->
        <Border Grid.Row="2" Background="#2d2d30" BorderBrush="#404040" BorderThickness="0,1,0,0">
            <Grid Margin="10">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="100"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="80"/>
                </Grid.ColumnDefinitions>

                <!-- Name Input -->
                <StackPanel Grid.Column="0" VerticalAlignment="Center">
                    <TextBlock Text="Your Name:" FontSize="10" Foreground="#cccccc"/>
                    <TextBox x:Name="NameInputBox" Background="#3c3c3c" Foreground="#ffffff" 
                             BorderBrush="#404040" Padding="5" FontSize="10" Height="25"
                             KeyDown="NameInputBox_KeyDown"/>
                </StackPanel>

                <!-- Message Input -->
                <StackPanel Grid.Column="1" Margin="10,0" VerticalAlignment="Center">
                    <TextBlock Text="Your Message:" FontSize="10" Foreground="#cccccc"/>
                    <TextBox x:Name="MessageInputBox" Background="#3c3c3c" Foreground="#ffffff" 
                             BorderBrush="#404040" Padding="5" FontSize="10" Height="25"
                             KeyDown="MessageInputBox_KeyDown"/>
                </StackPanel>

                <!-- Send Button -->
                <Button Grid.Column="2" x:Name="SendButton" Content="Send" 
                        Background="#007acc" Foreground="#ffffff" BorderThickness="0" 
                        FontSize="12" FontWeight="Bold" Height="25" VerticalAlignment="Bottom"
                        Click="SendButton_Click"/>
            </Grid>
        </Border>
    </Grid>
</Window>
